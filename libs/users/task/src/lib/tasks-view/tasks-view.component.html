<div class="board" cdkDropListGroup [ngClass]="{ 'dark-mode': colorMode }">
  <div class="board-wrapper">
    <div class="board-columns" *ngFor="let column of columns; let columnIndex = index">
      <mat-card class="board-column" cdkDropList [cdkDropListData]="column" (cdkDropListDropped)="dragDrop($event)">
        <div class="column-title">{{column.columnName}}</div>
        <div class="tasks-container">
          <div class="task" *ngFor="let task of column.tasks; let taskIndex = index" cdkDrag>
            <div [innerHTML]="splitText(task.taskName)"></div>
            <div *ngIf="task.executor">
              Исполнитель: {{ selectedExecutor.name }}
              <img *ngIf="selectedExecutor.photo" [src]="selectedExecutor.photo.url" alt="Executor photo" width="40" height="40">
            </div>
            <button mat-icon-button class="delTask" (click)="removeTask(columnIndex, task.taskName)">х</button>
          </div>
        </div>
        <button mat-raised-button class="delBtnContainer" (click)="removeColumn(columnIndex)">Delete Column</button>
        <button mat-raised-button class="tasksBtn" (click)="openAddNewTaskModal(columnIndex)">Add Task</button>
      </mat-card>
    </div>
  </div>
  <button class="addColumn" mat-raised-button (click)="openAddNewColumnModal()">Add Column</button>
</div>
